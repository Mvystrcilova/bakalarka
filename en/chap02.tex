\chapter{Data}

\section{Datasets}

\subsection{Lyrics dataset}
 We chose the \textit{55000+ Song Lyrics dataset} from Kaggle.com\footnote{https://www.kaggle.com/mousehead/songlyrics} to obtain lyrics data. The Kaggle dataset originally contained 57 650 English songs. Itâ€™s lyrics are scraped from LyricsFreak. Extremely long and short lyrics were removed as well as all non-ASCII symbols from the lyrics. Figure \ref{fig:lyrics_dataset} shows the first two entries of the dataset.\\
 \begin{figure}[h]
    \centering
	\includegraphics[height=60mm]{./img/dataset_preview.png}
	\caption{First two entries of the 55000+ Lyrics Dataset}
	\label{fig:lyrics_dataset}
\end{figure}

\subsection{User-information dataset}
To evaluate text and audio based methods on real-life user data, we had to select a dataset containing song information and lyrics as well as a dataset with information about users and their played tracks. First we tried to match the lyrics dataset onto the \textit{Thisismyjam} dataset \footnote{http://www.thisismyjam.com}. However we were able to match only 6800 songs with lyrics as well as user data. We then tried the \textit{Echo Nest Subset profile} \cite{Bertin-Mahieux2011} \footnote{https://labrosa.ee.columbia.edu/millionsong/tasteprofile} dataset available on the Milion Song Dataset website. 
The Echo Nest Taste Profile Subset provides us with 48,373,586 triplets of \textit{user id, song id} and \textit{the number of times the user has played a song}. This then had to be mapped onto the MSD dataset to get the name and artist and then onto our lyrics dataset.\\
After removing songs we did not have lyrics for, we ended up with 16594 unique songs, and 45054 unique users. For each of the 16594 songs we also acquired a mono .wav file. \\

\section{Final dataset statistics}
Overall our final dataset had 160454 entries containing a user id, the artist, the song title and the lyrics. As our evaluation method is based on the users playlists  aimed to reveal the missing entries based on the implemented recommending techniques which will be described in more detail in Chapter \ref{chap:experiments} we studied the dataset and especially the playlist length in more detail.\\
Here are some important remarks:
\begin{itemize}
    \item Each user only has one playlist. This means there is a one to one mapping between users and playlists and the terms are used interchangeably.
    \item We do not know which songs the user has played most recently.
    \item Users with only one song are useless for our evaluation.
    \item It should be easier to complete the dataset for users with longer datasets.
\end{itemize} 
When analyzing our dataset, it turned out, that out of 45054 playlists, there are 22257 with only one song, which leaves us with 22797 we can use. Meaning, that a little over half of the playlists is useful for our evaluation.

The distribution of useful playlist lengths is shown in more detail in Figure \ref{fig:playlist_length_distribution}. We can see that most of the playlists are short, almost a third of them only contains two songs. The average number of songs per playlists (including those containing only one song) is 3.56. 
\begin{figure}[ht]
    \centering
	\includegraphics[width=1\linewidth]{./img/playlist_length_numbers.png}
	\caption{The number of playlists for different lengths}
	\label{fig:playlist_length_distribution}
\end{figure}

The average number of playlists a song from our dataset belongs to is 10.84. The distribution and the most popular songs are depicted in Figure \ref{fig:popular_song_distribution}. The by far most popular song with a total of 816 plays was \textit{Royals} by \textit{Lorde}. Second came \textit{Radioactive} by \textit{Imagine Dragons} with 674 users who played it. All other songs have been played by less than 500 users.

\begin{figure}[ht]
    \centering
	\includegraphics[width=0.8\linewidth]{./img/times_played_numbers2.png}
	\caption{The distribution of the amount of playlists a song belongs to}
	\label{fig:popular_song_distribution}
\end{figure}


\todo[inline]{Myslim ze by se hodilo pridat nejake informace o tom thisismyjam datasetu - jake typy dat obsahuje, jak byly ziskane, info o tom, ze uzivatele sestavuji playlisty nebo tak neco - celkove je kapitola 2 mozna az prilis stroha...}